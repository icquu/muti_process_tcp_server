
<!-- saved from url=(0038)file:///home/tbw/Desktop/HYPERLINK.htm -->
<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv="Content-Type" content="text/html; charset=GBK"><meta name="ProgId" content="Word.Document"><meta name="Generator" content="Microsoft Word 14"><meta name="Originator" content="Microsoft Word 14"><title></title><!--[if gte mso 9]><xml><o:DocumentProperties><o:Author>tbw</o:Author><o:LastAuthor>tbw</o:LastAuthor><o:Revision>1</o:Revision><o:Pages>1</o:Pages></o:DocumentProperties><o:CustomDocumentProperties><o:KSOProductBuildVer dt:dt="string" >2052-11.1.0.8865</o:KSOProductBuildVer></o:CustomDocumentProperties></xml><![endif]--><!--[if gte mso 9]><xml><o:OfficeDocumentSettings></o:OfficeDocumentSettings></xml><![endif]--><!--[if gte mso 9]><xml><w:WordDocument><w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel><w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery><w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery><w:DocumentKind>DocumentNotSpecified</w:DocumentKind><w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing><w:View>Web</w:View><w:Compatibility><w:DontGrowAutofit/><w:BalanceSingleByteDoubleByteWidth/><w:DoNotExpandShiftReturn/><w:UseFELayout/></w:Compatibility><w:Zoom>0</w:Zoom></w:WordDocument></xml><![endif]--><!--[if gte mso 9]><xml><w:LatentStyles DefLockedState="false"  DefUnhideWhenUsed="true"  DefSemiHidden="true"  DefQFormat="false"  DefPriority="99"  LatentStyleCount="260" >
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Normal" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="heading 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Normal Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="footnote text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="annotation text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="header" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="footer" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="caption" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="table of figures" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="envelope address" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="envelope return" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="footnote reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="annotation reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="line number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="page number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="endnote reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="endnote text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="table of authorities" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="macro" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toa heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Title" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Closing" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Signature" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  UnhideWhenUsed="false"  QFormat="true"  Name="Default Paragraph Font" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Message Header" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Subtitle" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Salutation" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Date" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text First Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text First Indent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Note Heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text Indent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text Indent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Block Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Hyperlink" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="FollowedHyperlink" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Strong" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Emphasis" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Document Map" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Plain Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="E-mail Signature" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Normal (Web)" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Acronym" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Address" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Cite" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Code" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Definition" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Keyboard" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Preformatted" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Sample" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Typewriter" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Variable" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  UnhideWhenUsed="false"  QFormat="true"  Name="Normal Table" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="annotation subject" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="No List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="1 / a / i" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="1 / 1.1 / 1.1.1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Article / Section" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Simple 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Simple 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Simple 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Colorful 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Colorful 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Colorful 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table 3D effects 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table 3D effects 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table 3D effects 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Contemporary" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Elegant" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Professional" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Subtle 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Subtle 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Web 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Web 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Web 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Balloon Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Theme" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Placeholder Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="No Spacing" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="List Paragraph" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Quote" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Intense Quote" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 6" ></w:LsdException>
</w:LatentStyles></xml><![endif]--><style>
@font-face{
font-family:"Times New Roman";
}

@font-face{
font-family:"宋体";
}

@font-face{
font-family:"Wingdings";
}

@font-face{
font-family:"Courier New";
}

@font-face{
font-family:"Calibri";
}

@font-face{
font-family:"sans-serif";
}

p.MsoNormal{
mso-style-name:正文;
mso-style-parent:"";
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:Calibri;
mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';
font-size:10.5000pt;
mso-font-kerning:1.0000pt;
}

h1{
mso-style-name:"标题 1";
mso-style-next:正文;
margin-top:5.0000pt;
margin-bottom:5.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
mso-pagination:none;
text-align:left;
font-family:宋体;
font-weight:bold;
font-size:24.0000pt;
mso-font-kerning:22.0000pt;
}

h2{
mso-style-name:"标题 2";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:5.0000pt;
margin-bottom:5.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
mso-pagination:none;
text-align:left;
font-family:宋体;
font-weight:bold;
font-size:18.0000pt;
}

h4{
mso-style-name:"标题 4";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:5.0000pt;
margin-bottom:5.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
mso-pagination:none;
text-align:left;
font-family:宋体;
font-weight:bold;
font-size:12.0000pt;
}

span.10{
font-family:'Times New Roman';
}

span.15{
font-family:'Times New Roman';
color:rgb(0,0,255);
text-decoration:underline;
text-underline:single;
}

span.16{
font-family:'Courier New';
font-size:10.0000pt;
}

span.17{
font-family:'Times New Roman';
font-weight:bold;
}

p.pre{
mso-style-name:"HTML 预设格式";
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:left;
font-family:宋体;
font-size:12.0000pt;
}

p.p{
mso-style-name:"普通\(网站\)";
margin-top:5.0000pt;
margin-right:0.0000pt;
margin-bottom:5.0000pt;
margin-left:0.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
mso-pagination:none;
text-align:left;
font-family:Calibri;
mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';
font-size:12.0000pt;
}

span.msoIns{
mso-style-type:export-only;
mso-style-name:"";
text-decoration:underline;
text-underline:single;
color:blue;
}

span.msoDel{
mso-style-type:export-only;
mso-style-name:"";
text-decoration:line-through;
color:red;
}

table.MsoNormalTable{
mso-style-name:普通表格;
mso-style-parent:"";
mso-style-noshow:yes;
mso-tstyle-rowband-size:0;
mso-tstyle-colband-size:0;
mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt;
mso-para-margin:0pt;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-family:'Times New Roman';
font-size:10.0000pt;
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;
}
@page{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}@page Section0{
margin-top:72.0000pt;
margin-bottom:72.0000pt;
margin-left:90.0000pt;
margin-right:90.0000pt;
size:595.3000pt 841.9000pt;
layout-grid:15.6000pt;
mso-header-margin:42.5500pt;
mso-footer-margin:49.6000pt;
}
div.Section0{page:Section0;}</style></head><body style="tab-interval:21pt;text-justify-trim:punctuation;"><!--StartFragment--><div class="Section0" style="layout-grid:15.6000pt;"><h1 style="margin-top:15.0000pt;margin-right:0.0000pt;margin-bottom:7.5000pt;
margin-left:0.0000pt;text-indent:0.0000pt;border-bottom:1.0000pt solid rgb(221,221,221);
mso-border-bottom-alt:0.7500pt solid rgb(221,221,221);padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
background:rgb(255,255,255);"><span><a href="https://www.cnblogs.com/Howinfun/p/12327490.html"><b><span class="15" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">【大白话系统】</font>MySQL <font face="宋体">学习总结 之 缓冲池</font><font face="sans-serif">(Buffer Pool) </font><font face="宋体">的设计原理和管理机制</font></span></b></a></span><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;mso-ascii-font-family:sans-serif;
mso-hansi-font-family:sans-serif;mso-bidi-font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:22.0000pt;"><o:p></o:p></span></b></h1><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">一、缓冲池（</font>Buffer Pool）的地位</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">在《</font></span><span><a href="https://blog.csdn.net/Howinfun/article/details/104243917"><span class="15" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:10.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">MySQL <font face="宋体">学习总结 之 </font><font face="sans-serif">InnoDB </font><font face="宋体">存储引擎的架构设计</font></span></a></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">》中，我们就讲到，缓冲池是</font> InnoDB <font face="宋体">存储引擎中最重要的组件。因为为了提高 </font><font face="sans-serif">MySQL </font><font face="宋体">的并发性能，使用到的数据都会缓存在缓冲池中，然后所有的增删改查操作都将在缓冲池中执行。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">通过这种方式，保证每个更新请求，尽量就是</font></span><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">只更新内存，然后往磁盘顺序写日志文件</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">更新内存的性能是极高的，然后顺序写磁盘上的日志文件的性能也是比较高的，因为顺序写磁盘文件，他的性能要远高于随机读写磁盘文件。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">正因为缓冲池的重要性，所以我们必须比较深入地去理解和研究其中的原理和机制。当然了，我这里还是比较大白话的介绍缓冲池这个组件的原理，比较适合大家比较整体和从宏观上去了解，如果需要更加深入的，建议大家去看</font> MySQL <font face="宋体">的官方文档，或者是相关技术书籍。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">二、</font> Buffer Pool 的大小</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">缓冲池（</font>Buffer Pool<font face="宋体">）的默认大小为 </font><font face="sans-serif">128M</font><font face="宋体">，可通过 </font><font face="sans-serif">innodb_buffer_pool_size </font><font face="宋体">参数来配置。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">三、</font>Buffer Pool 的结构</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当</font> SQL <font face="宋体">执行时，用到的相关表的数据行，会将这些数据行都缓存到</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">但是我们可以想象一下，如果像上面的机制那么简单，那么如果是分页的话，不断地查询就要不断地将磁盘文件中数据页的数据缓存到</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中了，那么这时候缓存池这个机制就显得没什么用了，每次查询还是会有一次或者多次的磁盘</font><font face="sans-serif">IO</font><font face="宋体">。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">但是怎么缓存呢？</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1、数据页概念</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">我们先了解一下数据页这个概念。它是</font> MySQL <font face="宋体">抽象出来的数据单位，磁盘文件中就是存放了很多数据页，每个数据页里存放了很多行数据。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">默认情况下，数据页的大小是</font> 16kb<font face="宋体">。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">所以对应的，在</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中，也是以数据页为数据单位，存放着很多数据。但是我们通常叫做缓存页，因为</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">毕竟是一个缓冲池，并且里面的数据都是从磁盘文件中缓存到内存中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">所以，默认情况下缓存页的大小也是</font> 16kb<font face="宋体">，因为它和磁盘文件中数据页是一一对应的。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">所以，缓冲池和磁盘之间的数据交换的单位是数据页，包括从磁盘中读取数据到缓冲池和缓冲池中数据刷回磁盘中，如图所示：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><br></span><img width="510" height="382" src="./MySQL 学习总结 之 缓冲池(Buffer Pool) 的设计原理和管理机制_files/HYPERLINK1124.png"><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2、怎么识别数据在哪个缓存页中？</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">到此，我们都知道</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中是用缓存页来缓存数据的，但是我们怎么知道缓存页对应着哪个表，对应着哪个数据页呢？</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">所以每个缓存页都会对应着一个描述数据块，里面包含数据页所属的表空间、数据页的编号，缓存页在</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中的地址等等。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">描述数据块本身也是一块数据，它的大小大概是缓存页大小的</font>5%<font face="宋体">左右，大概</font><font face="sans-serif">800</font><font face="宋体">个字节左右的大小。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">描述如图所示：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><br></span><img width="534" height="409" src="./MySQL 学习总结 之 缓冲池(Buffer Pool) 的设计原理和管理机制_files/HYPERLINK1327.png"><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">四、</font>Buffer Pool 的初始化</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">到此，我们都知道了，</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">是缓存数据的数据单位为缓存页，利用描述数据块来标识缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">那么，</font>MySQL <font face="宋体">启动时，是如何初始化</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">的呢？</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1<font face="宋体">、</font><font face="sans-serif">MySQL </font><font face="宋体">启动时，会根据参数</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">innodb_buffer_pool_size</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">的值来为</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">分配内存区域。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2<font face="宋体">、然后会按照缓存页的默认大小 </font><font face="sans-serif">16k </font><font face="宋体">以及对应的描述数据块的 </font><font face="sans-serif">800</font><font face="宋体">个字节 左右大小，在</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中划分中一个个的缓存页和一个个的描述数据库块。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">3<font face="宋体">、注意，此时的缓存页和描述数据块都是空的，毕竟才刚启动 </font><font face="sans-serif">MySQL </font><font face="宋体">呢。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">五、</font>Free 链表记录空闲缓存页</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">上面我们了解了</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">在 </font><font face="sans-serif">MySQL </font><font face="宋体">启动时是如何初始化的。当 </font><font face="sans-serif">MySQL </font><font face="宋体">启动后，会不断地有 </font><font face="sans-serif">SQL </font><font face="宋体">请求进来，此时空先的缓存页就会不断地被使用。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">那么，</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">怎么知道哪些缓存页是空闲的呢？</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1、Free 链表的使用原理</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">free <font face="宋体">链表，它是一个双向链表，链表的每个节点就是一个个空闲的缓存页对应的描述数据块。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">他本身其实就是由</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">里的描述数据块组成的，你可以认为是每个描述数据块里都有两个指针，一个是 </font><font face="sans-serif">free_pre </font><font face="宋体">指针，一个是 </font><font face="sans-serif">free_next </font><font face="宋体">指针，分别指向自己的上一个 </font><font face="sans-serif">free </font><font face="宋体">链表的节点，以及下一个 </font><font face="sans-serif">free </font><font face="宋体">链表的节点。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">通过</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中的描述数据块的 </font><font face="sans-serif">free_pre </font><font face="宋体">和 </font><font face="sans-serif">free_next </font><font face="宋体">两个指针，就可以把所有的描述数据块串成一个 </font><font face="sans-serif">free </font><font face="宋体">链表。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">下面我们可以用伪代码来描述一下</font> free <font face="宋体">链表中描述数据块节点的数据结构：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">DescriptionDataBlock{</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;block_id = block1;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;free_pre = </span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,0,255);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">null</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;free_next = block2;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">}</span><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">free <font face="宋体">链表有一个基础节点，他会引用链表的头节点和尾节点，里面还存储了链表中有多少个描述数据块的节点，也就是有多少个空闲的缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">下面我们也用伪代码来描述一下基础节点的数据结构：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">FreeListBaseNode{</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;start = block01;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;end = block03; &nbsp;&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;count = </span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,0,0);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">}</span><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">到此，</font>free <font face="宋体">链表就介绍完了。上面我们也介绍了 </font><font face="sans-serif">MySQL </font><font face="宋体">启动时</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">的初始流程，接下来，我会将结合刚介绍完的 </font><font face="sans-serif">free </font><font face="宋体">链表，讲解一下 </font><font face="sans-serif">SQL </font><font face="宋体">进来时，磁盘数据页读取到</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">的缓存页的过程。但是，我们先要了解一下一个新概念：数据页缓存哈希表，它的 </font><font face="sans-serif">key </font><font face="宋体">是表空间</font><font face="sans-serif">+</font><font face="宋体">数据页号，而 </font><font face="sans-serif">value </font><font face="宋体">是对应缓存页的地址。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">描述如图所示：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><br></span><img width="1126" height="330" src="./MySQL 学习总结 之 缓冲池(Buffer Pool) 的设计原理和管理机制_files/HYPERLINK2506.png"><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2、磁盘数据页读取到&nbsp;</span></b><b><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:9.0000pt;background:rgb(245,245,245);
mso-shading:rgb(245,245,245);">Buffer Pool</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;的缓存页的过程</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1<font face="宋体">、首先，</font><font face="sans-serif">SQL </font><font face="宋体">进来时，判断数据对应的数据页能否在 数据页缓存哈希表里 找到对应的缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2<font face="宋体">、如果找到，将直接在</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中进行增删改查。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">3<font face="宋体">、如果找不到，则从 </font><font face="sans-serif">free </font><font face="宋体">链表中找到一个空闲的缓存页，然后从磁盘文件中读取对应的数据页的数据到缓存页中，并且将数据页的信息和缓存页的地址写入到对应的描述数据块中，然后修改相关的描述数据块的 </font><font face="sans-serif">free_pre </font><font face="宋体">指针和 </font><font face="sans-serif">free_next </font><font face="宋体">指针，将使用了的描述数据块从 </font><font face="sans-serif">free </font><font face="宋体">链表中移除。记得，还要在数据页缓存哈希表中写入对应的 </font><font face="sans-serif">key-value </font><font face="宋体">对。最后也是在</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中进行增删改查。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">六、</font>Flush 链表记录脏缓存页</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1、脏页和脏数据</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">我们都知道</font> SQL <font face="宋体">的增删改查都在</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中执行，慢慢地，</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中的缓存页因为不断被修改而导致和磁盘文件中的数据不一致了，也就是</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中会有很多个脏页，脏页里面很多脏数据。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">所以，</font>MySQL <font face="宋体">会有一条后台线程，定时地将</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中的脏页刷回到磁盘文件中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">但是，后台线程怎么知道哪些缓存页是脏页呢，不可能将全部的缓存页都往磁盘中刷吧，这会导致</font> MySQL <font face="宋体">暂停一段时间。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2、MySQL 是怎么判断脏页的</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">我们引入一个和</font> free <font face="宋体">链表类似的 </font><font face="sans-serif">flush </font><font face="宋体">链表。他的本质也是通过缓存页的描述数据块中的两个指针，让修改过的缓存页的描述数据块能串成一个双向链表，这两指针大家可以认为是 </font><font face="sans-serif">flush_pre </font><font face="宋体">指针和 </font><font face="sans-serif">flush_next </font><font face="宋体">指针。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">下面我用伪代码来描述一下：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">DescriptionDataBlock{</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;block_id = block1;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,128,0);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">// free <font face="宋体">链表的</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;free_pre = </span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,0,255);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">null</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;free_next = </span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,0,255);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">null</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p>&nbsp;</o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,128,0);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">// flush <font face="宋体">链表的</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;flush_pre = </span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,0,255);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">null</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;flush_next = block2;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">}</span><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">flush <font face="宋体">链表也有对应的基础节点，也是包含链表的头节点和尾节点，还有就是修改过的缓存页的数量。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">FlushListBaseNode{</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;start = block1;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;end = block2;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;&nbsp;&nbsp;&nbsp;count = </span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(0,0,0);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:9.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span></p><p class="pre" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(0,0,0);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">}</span><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">到这里，我们都知道，</font>SQL <font face="宋体">的增删改都会使得缓存页变为脏页，此时会修改脏页对应的描述数据块的 </font><font face="sans-serif">flush_pre </font><font face="宋体">指针和 </font><font face="sans-serif">flush_next </font><font face="宋体">指针，使得描述数据块加入到 </font><font face="sans-serif">flush </font><font face="宋体">链表中，之后 </font><font face="sans-serif">MySQL </font><font face="宋体">的后台线程就可以将这个脏页刷回到磁盘中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">描述如图所示：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><br></span><img width="508" height="307" src="./MySQL 学习总结 之 缓冲池(Buffer Pool) 的设计原理和管理机制_files/HYPERLINK3650.png"><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">七、</font>LRU 链表记录缓存页的命中率</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1、缓存命中率</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">我们都知道，当加载磁盘中的数据页到缓存中时，会从</font> free <font face="宋体">链表找到空闲的缓存页，然后将数据加载到缓存页里。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">但是缓存页总会有用完的时候，此时需要淘汰一下缓存页，将它刷入磁盘中，然后清空。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">那么会选择谁淘汰呢？</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">那么必定会淘汰缓存命中率低的缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">什么叫缓存命中率低：假如你有</font>100<font face="宋体">次请求，有</font><font face="sans-serif">30</font><font face="宋体">次请求都是查询和修改缓存页一，直接操作缓存而不需要从磁盘加载，这就是缓存命中率高。而缓存页二自加载到</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">后，只被查询和修改过一次，之后的</font><font face="sans-serif">100</font><font face="宋体">次请求中甚至没有一次是查询和修改它的，这就是缓存命中率低了，因为大部分请求都是操作其他缓存页，甚至要从磁盘中加载。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2、lru 链表的使用原理</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">InnoDB <font face="宋体">存储引擎是利用 </font><font face="sans-serif">lru </font><font face="宋体">链表完成上面的缓存命中率的。</font><font face="sans-serif">lru </font><font face="宋体">就是 </font><font face="sans-serif">Least Recently Used</font><font face="宋体">，最近最少使用的意思。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">ps<font face="宋体">：</font><font face="sans-serif">lru </font><font face="宋体">链表也是类似于 </font><font face="sans-serif">free </font><font face="宋体">链表和 </font><font face="sans-serif">flush </font><font face="宋体">链表的数据结构。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当有磁盘数据页加载数据到缓存页时，会将缓存页对应的描述数据块放入</font> lru <font face="宋体">链表的头部；后续只要查询或者修改了缓存页的数据，也会将对应描述数据块移到</font><font face="sans-serif">&nbsp;</font></span><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);">lru <font face="宋体">链表的头部</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">去。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">此时，</font></span><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);">lru <font face="宋体">链表尾部</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">的描述数据块对应的缓存页，必定是命中率最低的，也就是使用最少的缓存页，所以优先被淘汰的肯定是它。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">3、lru 链表存在的问题</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">lru <font face="宋体">链表的使用当然不会像上面的那么简单。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">因为</font> MySQL <font face="宋体">为了提高性能，提供了一个机制：</font></span><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">预读机制</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当你从磁盘上加载一个数据页的时候，他可能会连带着把这个数据页相邻的其他数据页，也加载到缓存里去。这个机制会带来这么一个问题：连带的数据页可能在后面的查询或者修改中，并不会用到，但是它们却在</font> lru <font face="宋体">链表的头部。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">什么意思？</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">那就是，本来经常被用到的缓存页被压到</font> lru <font face="宋体">链表的尾部去了，如果此时需要淘汰缓存页，命中率高的缓存页反而被淘汰掉了！</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当然了，</font></span><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">全表扫描</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">也会带来同样的问题。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">全表扫描会将表里所有的数据一次性加载到</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">来，但是却有很多数据在之后都不会用到。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h4 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">4、冷热数据分离</span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:10.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h4><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">什么是冷热分离？</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">简单点，就是将命中率高的数据和命中率低的数据分开，分成两块区域。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">InnoDB <font face="宋体">存储引擎就是利用冷热数据分离方案来解决上面的问题：将 </font><font face="sans-serif">lru </font><font face="宋体">链表分为两部分，一部分是热数据区域链表，一部分是冷数据区域链表。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">lru <font face="宋体">链表的头节点指向热数据区域的链表头节点，</font><font face="sans-serif">lru </font><font face="宋体">链表的尾节点指向冷数据区域的链表尾节点。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">描述如图所示：</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><br></span><img width="1015" height="288" src="./MySQL 学习总结 之 缓冲池(Buffer Pool) 的设计原理和管理机制_files/HYPERLINK4726.png"><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">冷热分离的比例</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">由参数</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">innodb_old_blocks</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">控制，默认值为</font><font face="sans-serif">37</font><font face="宋体">，表示冷数据占所有数据的</font><font face="sans-serif">37%</font><font face="宋体">。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">冷热分离的原理</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">磁盘中的数据页第一次加载到缓存页时，对应的描述数据块放到冷数据区域的链表头部，然后在</font> 1s <font face="宋体">后，如果再次访问这个缓存页，才会将缓存页对应的描述数据块移动到热数据区域的链表头部去。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">这个</font> 1s <font face="宋体">由参数</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">innodb_old_blocks_time</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">指定，默认值是 </font><font face="sans-serif">1000 </font><font face="宋体">毫秒。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);"><font face="宋体">热数据区的优化</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">冷数据区的缓存页是在</font> 1s <font face="宋体">后再被访问到就移动到热数据区的链表头部。那么热数据区域的规则呢，是不是只要被访问就会移动到热数据区域的链表头部。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当然不是了。大家可以想一下，能留在热数据区域的缓存页，证明都是缓存命中率比较高的，会经常被访问到。如果每个缓存页被访问都移动到链表头部，那这个操作将会非常的频繁。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">所以</font> InnoDB <font face="宋体">存储引擎做了一个优化，只有在热数据区域的后 </font><font face="sans-serif">3/4 </font><font face="宋体">的缓存页被访问了，才会移动到链表头部；如果是热数据区域的前 </font><font face="sans-serif">1/4 </font><font face="宋体">的缓存页被访问到，它是不会被移动到链表头部去的。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><b><span class="17" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:10.0000pt;background:rgb(255,255,255);
mso-shading:rgb(255,255,255);">lru <font face="宋体">链表尾部的缓存页何时刷入磁盘</font></span></b><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当</font> free <font face="宋体">链表为空了，此时需要将数据页加载到缓冲池里，就会 </font><font face="sans-serif">lru </font><font face="宋体">链表的冷数据区域尾部的缓存页刷入磁盘，然后清空，再加载数据页的数据。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">一条后台线程，运行一个定时任务，定时将</font> lru <font face="宋体">链表的冷数据区域的尾部的一些缓存页刷入磁盘，然后清空，最后把他们对应的描述数据块加入到 </font><font face="sans-serif">free </font><font face="宋体">链表中去。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">当然了，除了</font> lru <font face="宋体">链表尾部的缓存页会被刷入磁盘，还有的就是 </font><font face="sans-serif">flush </font><font face="宋体">链表的缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">后台线程同时也会在</font> MySQL <font face="宋体">不繁忙的时候，将 </font><font face="sans-serif">flush </font><font face="宋体">链表中的缓存页刷入磁盘中，这些缓存页的描述数据块会从 </font><font face="sans-serif">lru </font><font face="宋体">链表和 </font><font face="sans-serif">flush </font><font face="宋体">链表中移除，并加入到 </font><font face="sans-serif">free </font><font face="宋体">链表中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><h2 style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;padding:0pt 0pt 0pt 0pt ;mso-pagination:widow-orphan;
mso-line-height-alt:12pt;"><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
letter-spacing:0.0000pt;font-weight:bold;text-transform:none;
font-style:normal;font-size:15.5000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">八、总结</font></span></b><b><span style="mso-spacerun:&#39;yes&#39;;font-family:宋体;color:rgb(0,0,0);
font-weight:bold;font-size:15.5000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></b></h2><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">到此，我已经将缓冲池</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">介绍完毕了。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">下面简单总结一下</font>&nbsp;</span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">从初始化到使用的整个流程。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">1<font face="宋体">、</font><font face="sans-serif">MySQL </font><font face="宋体">启动时会根据分配指定大小内存给</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">，并且会创建一个个描述数据块和缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">2<font face="宋体">、</font><font face="sans-serif">SQL </font><font face="宋体">进来时，首先会根据数据的表空间和数据页编号查询 数据页缓存哈希表 中是否有对应的缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">3<font face="宋体">、如果有对应的缓存页，则直接在</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">中执行。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">4<font face="宋体">、如果没有，则检查 </font><font face="sans-serif">free </font><font face="宋体">链表看看有没有空闲的缓存页。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">5<font face="宋体">、如果有空闲的缓存页，则从磁盘中加载对应的数据页，然后将描述数据块从 </font><font face="sans-serif">free </font><font face="宋体">链表中移除，并且加入到 </font><font face="sans-serif">lru </font><font face="宋体">链表的冷数据区域的链表头部。后面如果被修改了，还需要加入到 </font><font face="sans-serif">flush </font><font face="宋体">链表中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">6<font face="宋体">、如果没有空闲的缓存页，则将 </font><font face="sans-serif">lru </font><font face="宋体">链表的冷数据区域的链表尾部的缓存页刷回磁盘，然后清空，接着将数据页的数据加载到缓存页中，并且描述数据块会加入到 </font><font face="sans-serif">lru </font><font face="宋体">链表的冷数据区域的链表头部。后面如果被修改了，还需要加入到 </font><font face="sans-serif">flush </font><font face="宋体">链表中。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">7<font face="宋体">、</font><font face="sans-serif">5</font><font face="宋体">或者</font><font face="sans-serif">6</font><font face="宋体">后，就接着在</font><font face="sans-serif">&nbsp;</font></span><span class="16" style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;color:rgb(51,51,51);
letter-spacing:0.0000pt;text-transform:none;font-style:normal;
font-size:9.0000pt;background:rgb(245,245,245);mso-shading:rgb(245,245,245);">Buffer Pool</span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">&nbsp;<font face="宋体">中执行增删改查。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">注意：</font>5<font face="宋体">和</font><font face="sans-serif">6</font><font face="宋体">中，缓存页加入到冷数据区域的链表头部后，如果在 </font><font face="sans-serif">1s </font><font face="宋体">后被访问，则将入到热数据区域的链表头部。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="p" style="margin-top:7.5000pt;margin-right:0.0000pt;margin-bottom:22.6000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);">8<font face="宋体">、最后，就是描述数据块随着 </font><font face="sans-serif">SQL </font><font face="宋体">语句的执行不断地在 </font><font face="sans-serif">free </font><font face="宋体">链表、</font><font face="sans-serif">flush </font><font face="宋体">链表和 </font><font face="sans-serif">lru </font><font face="宋体">链表中移动了。</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:12.0000pt;mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin-top:0.0000pt;margin-right:0.0000pt;margin-bottom:0.0000pt;
margin-left:0.0000pt;text-indent:0.0000pt;padding:0pt 0pt 0pt 0pt ;
mso-pagination:widow-orphan;text-align:left;background:rgb(255,255,255);"><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">今天，你学习了吗</font></span><span style="mso-spacerun:&#39;yes&#39;;font-family:sans-serif;mso-fareast-font-family:宋体;
color:rgb(51,51,51);letter-spacing:0.0000pt;text-transform:none;
font-style:normal;font-size:10.0000pt;mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="MsoNormal"><span style="mso-spacerun:&#39;yes&#39;;font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:&#39;Times New Roman&#39;;font-size:10.5000pt;mso-font-kerning:1.0000pt;"><o:p>&nbsp;</o:p></span></p></div><!--EndFragment--></body></html>